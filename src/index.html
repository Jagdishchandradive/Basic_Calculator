<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- utf8 and viewport enables responsive behaviour on mobile devices -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
    <title>Basic_Calculator</title>
</head>
<body>
    <div class="container">
        <h1 class="text-center mt-3">Basic_Calculator</h1>
        <div class="row">
            <div class=" col-12 offset-md-3 col-md-6">
                <div class="card">
                    <div class="card border-primary">
                     <!-- cards from bootstrap -->
                      
                        <div class="card-body">
                            <input
                            id="cal-display"
                            class="form-control" type="text" placeholder="0" aria-label="default input example">
                         <div class="row gx-1">
                            <div class="col-3 mt-2">
                                <button type="button" class="btn btn-dark w-100 "onclick="showPreviousCalculation()">Prev</button>  
                            </div>
                            <div class="col-3 mt-2">
                                <button type="button" class="btn btn-dark w-100 "onclick="clearHistory()">Clr His</button>  
                            </div>
                            <div class="col-3 mt-2">
                                <button type="button" class="btn btn-dark w-100 "onclick="showNextCalculation()">Next</button>  
                            </div>
                            <div class="col-3 mt-2">
                                <button type="button" class="btn btn-dark w-100 "onclick="clearDisplay()">AC</button>  
                            </div>
                            <!-- Bootstrap has 12 columns within a row,
                             and if you try to make a div does not fit within those 12 columns,
                             it will automatically goes down to next row -->


                            <div class="col-3 mt-2">
                                <button type="button" class="btn btn-dark w-100 " onclick="addToDisplay('7')">7</button>  
                            </div>
                            <div class="col-3 mt-2">
                                <button type="button" class="btn btn-dark w-100 "onclick="addToDisplay('8')">8</button>  
                            </div>
                            <div class="col-3 mt-2">
                                <button type="button" class="btn btn-dark w-100 "onclick="addToDisplay('9')" >9</button>  
                            </div>
                            <div class="col-3 mt-2">
                                <button type="button" class="btn btn-dark w-100 "onclick="addToDisplay('/')">รท</button>  
                            </div>


                            <div class="col-3 mt-2">
                                <button type="button" class="btn btn-dark w-100 "onclick="addToDisplay('4')">4</button>  
                            </div>
                            <div class="col-3 mt-2">
                                <button type="button" class="btn btn-dark w-100 "onclick="addToDisplay('5')">5</button>  
                            </div>
                            <div class="col-3 mt-2">
                                <button type="button" class="btn btn-dark w-100 "onclick="addToDisplay('6')">6</button>  
                            </div>
                            <div class="col-3 mt-2">
                                <button type="button" class="btn btn-dark w-100 "onclick="addToDisplay('*')"> ร </button>  
                            </div>


                            <div class="col-3 mt-2">
                                <button type="button" class="btn btn-dark w-100 "onclick="addToDisplay('1')">1</button>  
                            </div>
                            <div class="col-3 mt-2">
                                <button type="button" class="btn btn-dark w-100 "onclick="addToDisplay('2')">2</button>  
                            </div>
                            <div class="col-3 mt-2">
                                <button type="button" class="btn btn-dark w-100 "onclick="addToDisplay('3')">3</button>  
                            </div>
                            <div class="col-3 mt-2">
                                <button type="button" class="btn btn-dark w-100 "onclick="addToDisplay('-')"> - </button>  
                            </div>

                            <div class="col-3 mt-2">
                                <button type="button" class="btn btn-dark w-100" onclick="addToDisplay('0')">0</button>  
                            </div>
                            <div class="col-3 mt-2">
                                <button type="button" class="btn btn-dark w-100 "onclick="addToDisplay('.')">.</button>  
                            </div>
                            <div class="col-3 mt-2">
                                <button type="button" class="btn btn-primary w-100  "onclick="calculate()">=</button>  
                            </div>
                            <div class="col-3 mt-2">
                                <button type="button" class="btn btn-dark w-100 "onclick="addToDisplay('+')">+</button>  
                            </div>










                         </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous"></script>
    <script>
        let display = document.getElementById('cal-display');
        let history = [];
        let currentHistoryIndex = -1;
        function addToDisplay(value) {
        display.value += value;
        }
        function clearDisplay() {
        display.value = '';
        }
        function calculate() {
            const expression = display.value;
            try{const result = eval(expression);
                if (isNaN(result)) {
                    display.value = "Undefined";}
                else{history.push({ expression, result });
                currentHistoryIndex = history.length - 1;
                display.value = result;}
                }catch(error){
                display.value="Error"}
                
            }         
        
        function clearHistory() {
        history = [];
        }
        function showPreviousCalculation() {
        if (currentHistoryIndex > 0 && currentHistoryIndex < history.length) {
            currentHistoryIndex--;
            display.value = history[currentHistoryIndex].expression + " = " + history[currentHistoryIndex].result;
        }
        }
        function showNextCalculation() {
        if (currentHistoryIndex < history.length - 1) {
            currentHistoryIndex++;
            display.value = history[currentHistoryIndex].expression + " = " + history[currentHistoryIndex].result;
        }
        }
    </script>
</body>
</html>